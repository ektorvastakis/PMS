{% extends "layout.html" %} {% block title %} Settings {% endblock %} {% block
main %}
<div class="container">
  {% if logged_in %}
  <!-- User Settings -->
  <h2>Account Settings</h2>
  <div class="settings-section">
    <h3>Delete Account</h3>
    <form action="/settings" method="post">
      <button
        type="submit"
        name="delete_account"
        class="btn btn-danger"
        onclick="return confirm('Are you sure you want to delete your account? This cannot be undone.')"
      >
        Delete Account
      </button>
    </form>
  </div>
  {% else %}
  <!-- System Settings -->
  <h2>System Settings</h2>
  <div class="settings-section">
    <h3>Parking Slots Configuration</h3>
    <p>Current number of slots: {{ current_slots }}</p>
    <form action="/settings" method="post">
      <div class="form-group">
        <label for="num_slots">Number of Slots:</label>
        <input
          type="number"
          class="form-control"
          id="num_slots"
          name="num_slots"
          min="1"
          required
        />
      </div>
      <button type="submit" name="set_slots" class="btn btn-primary">
        Update Slots
      </button>
    </form>
  </div>

  <div class="settings-section">
    <h3>System Reset</h3>
    <p>Current number of users: {{ user_count }}</p>
    <form action="/settings" method="post">
      <button
        type="submit"
        name="delete_users"
        class="btn btn-danger"
        onclick="return confirm('Are you sure you want to delete all users and data? This cannot be undone.')"
      >
        Delete All Users and Data
      </button>
    </form>
  </div>
  {% endif %}
</div>
{% endblock %}
